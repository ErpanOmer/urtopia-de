<script>
console.log(JSON.stringify({{ template | json }}))


// 活动配置 start
// 车
const event_bike_product_id = '7633738727640'
const event_accessories_variant_ids = ['43817744793816', '43745263255768', '43745261748440']
// 活动配件 end

// isSendBeacon 是否使用 sendBeacon api 保证页面退出时提交后端数据
function fetchBuried (name = '', type = '', data = {}, isSendBeacon = false) {
    
    const body = {
        module: "website-de",
        trace_name: `${name}-de`,
        trace_type: `${type}-${document.body.clientWidth > 768 ? 'pc' : 'mb'}`,
        extras: data
    }

    return isSendBeacon ? navigator.sendBeacon('https://api.newurtopia.com/third_part/traces', JSON.stringify(body)) : fetch("https://api.newurtopia.com/third_part/traces", {
        method: "POST",
        body: JSON.stringify(body),
        headers: {
            "Content-Type": "application/json",
        },
    })
}


function debounce(fn, wait) {
    // 自由变量，debounce执行完成被释放，time也不会被释放
    let time;
    // 返回一个闭包，接受参数
    return function (...args) {
        // 保存闭包被调用时的this
        const this_ = this;
        // 清除上一次的定时器
        if (time) {
            clearTimeout(time);
        };
        // 不再是直接执行fn，在内部传递参数
        time = setTimeout(function () {
            // 通过apply修改fn的this
            fn.apply(this_, args);
        }, wait);
    }
};
</script>

{% case template | json %}
    {% when 'index' %}
    {% when 'product.pf-b10ddb73' %}
    {% when 'page.pf-3b2bc3c4' %}
    {% when 'page.jobrad' %}
    {% else %}
        <script src="https://cdn.shopify.com/s/files/1/0583/5810/4213/files/1.14.2-TweenMax.js?v=1663912518"></script>
        <script src="https://cdn.shopify.com/s/files/1/0583/5810/4213/files/2.0.3-ScrollMagic.min.js?v=1663912592"></script>
        <script src="https://cdn.shopify.com/s/files/1/0583/5810/4213/files/2.0.3-animation.gsap.js?v=1663912682"></script>
        <script src="https://cdn.shopify.com/s/files/1/0583/5810/4213/files/2.0.3-debug.addIndicators.js?v=1663912891"></script>
{% endcase %}


<script src="https://cdn.shopify.com/s/files/1/0583/5810/4213/files/1.9.1-jquery.min.js?v=1663911504"></script>
<script src="https://cdn.shopify.com/s/files/1/0583/5810/4213/files/8-swiper-bundle.min.js?v=1663912984"></script>
<script>
/*! lozad.js - v1.0.8 - 2017-10-13
* https://github.com/ApoorvSaxena/lozad.js
* Copyright (c) 2017 Apoorv Saxena; Licensed MIT */
!function(t, e) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : t.lozad = e()
}(this, function() {
    "use strict";
    function t(t) {
        t.setAttribute("data-loaded", !0)
    }
    var e = Object.assign || function(t) {
        for (var e = 1; e < arguments.length; e++) {
            var r = arguments[e];
            for (var o in r)
                Object.prototype.hasOwnProperty.call(r, o) && (t[o] = r[o])
        }
        return t
    }
      , r = {
        rootMargin: "0px",
        threshold: 0,
        load: function(t) {
            t.getAttribute("data-src") && (t.src = t.getAttribute("data-src")),
            t.getAttribute("data-srcset") && (t.srcset = t.getAttribute("data-srcset")),
            t.getAttribute("data-background-image") && (t.style.backgroundImage = "url(" + t.getAttribute("data-background-image") + ")")
        }
    }
      , o = function(t) {
        return "true" === t.getAttribute("data-loaded")
    }
      , n = function(e) {
        return function(r, n) {
            r.forEach(function(r) {
                r.intersectionRatio > 0 && (n.unobserve(r.target),
                o(r.target) || (e(r.target),
                t(r.target)))
            })
        }
    };
    return function() {
        var a = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ".lozad"
          , i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
          , u = e({}, r, i)
          , d = u.rootMargin
          , c = u.threshold
          , s = u.load
          , g = void 0;
        return window.IntersectionObserver && (g = new IntersectionObserver(n(s),{
            rootMargin: d,
            threshold: c
        })),
        {
            observe: function() {
                for (var e = document.querySelectorAll(a), r = 0; r < e.length; r++)
                    o(e[r]) || (g ? g.observe(e[r]) : (s(e[r]),
                    t(e[r])))
            },
            triggerLoad: function(e) {
                o(e) || (s(e),
                t(e))
            }
        }
    }
});
</script>

