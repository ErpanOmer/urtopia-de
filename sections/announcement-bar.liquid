<style>
  body {
    background: #eee;
    font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
    font-size: 14px;
    color: #000;
    margin: 0;
    padding: 0;
  }
  .swiper-wrapper {
    transition-delay: 0.3s;
  }
  .swiper-container {
    width: 500px;
    height: 300px;
    margin: 20px auto;
  }
  .swiper-slide {
    text-align: center;
    font-size: 18px;
    background: #fff;

    /* Center slide text vertically */
    display: -webkit-box;
    display: -ms-flexbox;
    display: -webkit-flex;
    display: flex;
    -webkit-box-pack: center;
    -ms-flex-pack: center;
    -webkit-justify-content: center;
    justify-content: center;
    -webkit-box-align: center;
    -ms-flex-align: center;
    -webkit-align-items: center;
    align-items: center;
  }
  .swiper-slide:nth-child(2) {
    background: #3183ff;
    color: #fff;
  }
  .swiper-slide p {
    transform: translateX(-200px);
    opacity: 0;
    transition: all 0.4s;
  }
  .ani-slide p {
    transform: translateX(0);
    opacity: 1;
  }
</style>

<div id="announcement-bar">
  <div class="swiper-container swiper-container-initialized swiper-container-vertical">
    <div class="swiper-wrapper" style="transition-duration: 0ms; transform: translate3d(0px, 0px, 0px);">
      <div class="swiper-slide ani-slide swiper-slide-active" style="height: 300px;"><p>Slide 1</p></div>
      <div class="swiper-slide swiper-slide-next" style="height: 300px;"><p>Slide 2</p></div>
      <div class="swiper-slide" style="height: 300px;"><p>Slide 3</p></div>
    </div>
    <div class="swiper-pagination swiper-pagination-bullets">
      <span class="swiper-pagination-bullet swiper-pagination-bullet-active"></span
      ><span class="swiper-pagination-bullet"></span><span class="swiper-pagination-bullet"></span>
    </div>
    <span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>
  </div>
</div>

<script>
  var swiper = new Swiper('#announcement-bar .swiper-container', {
    direction: 'vertical',
    followFinger: false,
    speed: 800,
    mousewheel: true,
    pagination: {
      el: '.swiper-pagination',
    },
    on: {
      init: function (swiper) {
        slide = this.slides.eq(0);
        slide.addClass('ani-slide');
      },
      transitionStart: function () {
        for (i = 0; i < this.slides.length; i++) {
          slide = this.slides.eq(i);
          slide.removeClass('ani-slide');
        }
      },
      transitionEnd: function () {
        slide = this.slides.eq(this.activeIndex);
        slide.addClass('ani-slide');
      },
    },
  });
</script>
